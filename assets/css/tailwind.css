@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --bg: #ffffff;
  --fg: #0f172a;
}
.dark {
  --bg: #000000;
  --fg: #e2e8f0;
}
html, body, #__nuxt {
  height: 100%;
}
body {
  background-color: var(--bg);
  color: var(--fg);
}

.prose img {
  @apply rounded-md;
}

/* Devfolio-inspired theme utilities and components */
@layer base {
  html { @apply scroll-smooth; }
  section[id] { scroll-margin-top: 56px; }
  body { @apply transition-colors duration-300; }
  ::selection { @apply bg-black text-white dark:bg-white dark:text-black; }
}

@layer components {
  /* Enhance Content prose defaults */
  .prose { @apply leading-7 text-[16px] sm:text-[17px]; }
  .prose h1 { @apply mb-3 leading-tight; }
  .prose h2 { @apply mt-10 mb-3 text-2xl leading-snug; }
  .prose h3 { @apply mt-8 mb-2 text-xl; }
  .prose p { @apply my-4; }
  .prose ul, .prose ol { @apply my-4; }
  .prose li { @apply my-1; }
  .prose a { @apply underline decoration-1 underline-offset-2 hover:decoration-2 transition-colors; }
  .prose blockquote { @apply border-l-4 border-black/20 dark:border-white/20 pl-4 italic bg-black/5 dark:bg-white/5 rounded; }
  .prose pre { @apply rounded-md border border-black/10 dark:border-white/10 !bg-black !bg-opacity-90 text-white overflow-x-auto; }
  .prose code { @apply px-1.5 py-0.5 rounded bg-black/10 dark:bg-white/10; }
  .prose hr { @apply border-black/10 dark:border-white/10; }
  .prose img { @apply rounded-md shadow-sm mx-auto w-full; max-height: 480px; object-fit: contain; }
  .prose table { @apply w-full border-collapse; }
  .prose thead th { @apply border-b border-black/10 dark:border-white/10 pb-2; }
  .prose tbody td { @apply border-b border-black/5 dark:border-white/5 py-2; }
  .btn { @apply inline-flex items-center gap-2 rounded border px-5 py-2 text-sm transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-black dark:focus-visible:ring-white; }
  .btn-ghost { @apply btn border-black/20 dark:border-white/20 hover:-translate-y-0.5 hover:bg-black/5 dark:hover:bg-white/10 active:translate-y-0; }
  .btn-solid { @apply btn border-black dark:border-white bg-black text-white dark:bg-white dark:text-black hover:-translate-y-0.5 active:translate-y-0; }
  .card { @apply rounded border border-black/15 dark:border-white/15 bg-white/60 dark:bg-black/60 backdrop-blur-sm transition-transform duration-200 hover:-translate-y-1; }
  .chip { @apply rounded border border-black/20 dark:border-white/20 px-3 py-1 text-xs transition-transform duration-200 hover:-translate-y-0.5 hover:bg-black/5 dark:hover:bg-white/10; }
  .chip-s { @apply text-[11px] px-2 py-0.5; }
  .chip-m { @apply text-xs px-3 py-1; }
  .chip-l { @apply text-sm px-4 py-1.5 font-medium; }
  .chip-dot { @apply relative pl-3; }
}

@layer utilities {
  @keyframes grid-pan { from { background-position: 0px 0px, 0px 0px; } to { background-position: 28px 0px, 0px 28px; } }
  .animate-grid-pan { animation: grid-pan 28s linear infinite; }

  /* Nuxt page fade transition */
  .page-enter-active, .page-leave-active { transition: opacity 180ms ease, transform 180ms ease; }
  .page-enter-from, .page-leave-to { opacity: 0; transform: translateY(4px); }
}
